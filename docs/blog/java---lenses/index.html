<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Lenses | Boris van Katwijk</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Immutability
Using immutable types has a number of benefits. Since it eliminates mutation, it makes code easier to reason about. Also, it eliminates concurrent modification problems, thereby unlocking a lot of performance improvement opportunities. Java originally was fully Object-Oriented but it adapted to other paradigms. The language itself still lacks some features that makes it convenient to work with immutable data. In this post I&rsquo;d like to show what can currently be done in vanilla Java and show a powerful concept to transform immutable data.">
    <meta name="generator" content="Hugo 0.142.0">
    
    
    
      <meta name="robots" content="index, follow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.620dc94fff2f59025403afe2a886ebd695c6462d223c5e69aef5afee80911874.css" >



    

    
      

    

    

    
      <link rel="canonical" href="https://bvkatwijk.github.io/blog/java---lenses/">
    

    <meta property="og:url" content="https://bvkatwijk.github.io/blog/java---lenses/">
  <meta property="og:site_name" content="Boris van Katwijk">
  <meta property="og:title" content="Lenses">
  <meta property="og:description" content="Immutability Using immutable types has a number of benefits. Since it eliminates mutation, it makes code easier to reason about. Also, it eliminates concurrent modification problems, thereby unlocking a lot of performance improvement opportunities. Java originally was fully Object-Oriented but it adapted to other paradigms. The language itself still lacks some features that makes it convenient to work with immutable data. In this post I’d like to show what can currently be done in vanilla Java and show a powerful concept to transform immutable data.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2024-10-26T18:26:22+00:00">
    <meta property="article:modified_time" content="2024-11-15T16:10:10+00:00">
    <meta property="article:tag" content="Fp">
    <meta property="article:tag" content="Java">
    <meta property="article:tag" content="Data">
    <meta property="article:tag" content="Api">

  <meta itemprop="name" content="Lenses">
  <meta itemprop="description" content="Immutability Using immutable types has a number of benefits. Since it eliminates mutation, it makes code easier to reason about. Also, it eliminates concurrent modification problems, thereby unlocking a lot of performance improvement opportunities. Java originally was fully Object-Oriented but it adapted to other paradigms. The language itself still lacks some features that makes it convenient to work with immutable data. In this post I’d like to show what can currently be done in vanilla Java and show a powerful concept to transform immutable data.">
  <meta itemprop="datePublished" content="2024-10-26T18:26:22+00:00">
  <meta itemprop="dateModified" content="2024-11-15T16:10:10+00:00">
  <meta itemprop="wordCount" content="1220">
  <meta itemprop="keywords" content="Fp,Java,Data,Api">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Lenses">
  <meta name="twitter:description" content="Immutability Using immutable types has a number of benefits. Since it eliminates mutation, it makes code easier to reason about. Also, it eliminates concurrent modification problems, thereby unlocking a lot of performance improvement opportunities. Java originally was fully Object-Oriented but it adapted to other paradigms. The language itself still lacks some features that makes it convenient to work with immutable data. In this post I’d like to show what can currently be done in vanilla Java and show a powerful concept to transform immutable data.">

      
    
	
  </head><body class="ma0 avenir bg-near-white production">

    
   
  

  
  
  
  <header class="cover bg-center" style="background-image: url('https://bvkatwijk.github.io/images/lens.webp');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Boris van Katwijk
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/cv" title="CV page">
              CV
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/pages/contact/" title="Contact page">
              Contact
            </a>
          </li>
          
        </ul>
      
      <div class="ananke-socials"><a href="https://twitter.com/boris_katwijk" target="_blank" rel="noopener"
        class="ananke-social-link link-transition twitter link dib z-999 pt3 pt0-l mr1"
        title="follow on Twitter - Opens in a new window"
        aria-label="follow on Twitter - Opens in a new window">
      <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
            
          </span></a><a href="https://github.com/bvkatwijk/" target="_blank" rel="noopener"
        class="ananke-social-link link-transition github link dib z-999 pt3 pt0-l mr1"
        title="follow on GitHub - Opens in a new window"
        aria-label="follow on GitHub - Opens in a new window">
      <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
            
          </span></a><a href="http://linkedin.com/in/bvankatwijk" target="_blank" rel="noopener"
        class="ananke-social-link link-transition linkedin link dib z-999 pt3 pt0-l mr1"
        title="follow on LinkedIn - Opens in a new window"
        aria-label="follow on LinkedIn - Opens in a new window">
      <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
            
          </span></a><a href="https://stackoverflow.com/users/5722607" target="_blank" rel="noopener"
        class="ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1"
        title="follow on Stack Overflow - Opens in a new window"
        aria-label="follow on Stack Overflow - Opens in a new window">
      <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"/></svg>
            
          </span></a></div>

    </div>
  </div>
</nav>

      <div class="tc-l pv6 ph3 ph4-ns">
        
          <div class="f2 f1-l fw2 white-90 mb0 lh-title">Lenses</div>
          
        
      </div>
    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Blogs
      </aside><div id="sharing" class="mt3 ananke-socials"><a href="mailto:?&amp;body=https%3A%2F%2Fbvkatwijk.github.io%2Fblog%2Fjava---lenses%2F&amp;subject=Lenses"
        class="ananke-social-link email no-underline"
        title="Share on Email" aria-label="Share on Email"
        target="_blank" rel="nofollow noopener noreferrer">
        <span class="icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M64 112c-8.8 0-16 7.2-16 16l0 22.1L220.5 291.7c20.7 17 50.4 17 71.1 0L464 150.1l0-22.1c0-8.8-7.2-16-16-16L64 112zM48 212.2L48 384c0 8.8 7.2 16 16 16l384 0c8.8 0 16-7.2 16-16l0-171.8L322 328.8c-38.4 31.5-93.7 31.5-132 0L48 212.2zM0 128C0 92.7 28.7 64 64 64l384 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 448c-35.3 0-64-28.7-64-64L0 128z"/></svg>
                
              </span></a><a href="https://twitter.com/intent/tweet/?&amp;text=Immutability&#43;Using&#43;immutable&#43;types&#43;has&#43;a&#43;number&#43;of&#43;benefits.&#43;Since&#43;it&#43;eliminates&#43;mutation%2C&#43;it&#43;makes&#43;code&#43;easier&#43;to&#43;reason&#43;about.&#43;Also%2C&#43;it&#43;eliminates&#43;concurrent&#43;modification&#43;problems%2C&#43;thereby&#43;unlocking&#43;a&#43;lot&#43;of&#43;performance&#43;improvement&#43;opportunities.&#43;Java&#43;originally&#43;was&#43;fully&#43;Object-Oriented&#43;but&#43;it&#43;adapted&#43;to&#43;other&#43;paradigms.&#43;The&#43;language&#43;itself&#43;still&#43;lacks&#43;some&#43;features&#43;that&#43;makes&#43;it&#43;convenient&#43;to&#43;work&#43;with&#43;immutable&#43;data.&#43;In&#43;this&#43;post&#43;I%26amp%3Brsquo%3Bd&#43;like&#43;to&#43;show&#43;what&#43;can&#43;currently&#43;be&#43;done&#43;in&#43;vanilla&#43;Java&#43;and&#43;show&#43;a&#43;powerful&#43;concept&#43;to&#43;transform&#43;immutable&#43;data.%0A&amp;url=https%3A%2F%2Fbvkatwijk.github.io%2Fblog%2Fjava---lenses%2F"
        class="ananke-social-link twitter no-underline"
        title="Share on Twitter" aria-label="Share on Twitter"
        target="_blank" rel="nofollow noopener noreferrer">
        <span class="icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
                
              </span></a><a href="https://www.linkedin.com/shareArticle?&amp;mini=true&amp;source=https%3A%2F%2Fbvkatwijk.github.io%2Fblog%2Fjava---lenses%2F&amp;summary=Immutability&#43;Using&#43;immutable&#43;types&#43;has&#43;a&#43;number&#43;of&#43;benefits.&#43;Since&#43;it&#43;eliminates&#43;mutation%2C&#43;it&#43;makes&#43;code&#43;easier&#43;to&#43;reason&#43;about.&#43;Also%2C&#43;it&#43;eliminates&#43;concurrent&#43;modification&#43;problems%2C&#43;thereby&#43;unlocking&#43;a&#43;lot&#43;of&#43;performance&#43;improvement&#43;opportunities.&#43;Java&#43;originally&#43;was&#43;fully&#43;Object-Oriented&#43;but&#43;it&#43;adapted&#43;to&#43;other&#43;paradigms.&#43;The&#43;language&#43;itself&#43;still&#43;lacks&#43;some&#43;features&#43;that&#43;makes&#43;it&#43;convenient&#43;to&#43;work&#43;with&#43;immutable&#43;data.&#43;In&#43;this&#43;post&#43;I%26amp%3Brsquo%3Bd&#43;like&#43;to&#43;show&#43;what&#43;can&#43;currently&#43;be&#43;done&#43;in&#43;vanilla&#43;Java&#43;and&#43;show&#43;a&#43;powerful&#43;concept&#43;to&#43;transform&#43;immutable&#43;data.%0A&amp;title=Lenses&amp;url=https%3A%2F%2Fbvkatwijk.github.io%2Fblog%2Fjava---lenses%2F"
        class="ananke-social-link linkedin no-underline"
        title="Share on LinkedIn" aria-label="Share on LinkedIn"
        target="_blank" rel="nofollow noopener noreferrer">
        <span class="icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
                
              </span></a></div>
<h1 class="f1 athelas mt3 mb1">Lenses</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2024-10-26T18:26:22Z">October 26, 2024</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><h3 id="immutability">Immutability</h3>
<p>Using immutable types has a number of benefits. Since it eliminates mutation, it makes code easier to reason about. Also, it eliminates concurrent modification problems, thereby unlocking a lot of performance improvement opportunities. Java originally was fully Object-Oriented but it adapted to other paradigms. The language itself still lacks some features that makes it convenient to work with immutable data. In this post I&rsquo;d like to show what can currently be done in vanilla Java and show a powerful concept to transform immutable data.</p>
<h3 id="java-records">Java Records</h3>
<p>Since Java 16, <code>record</code> classes were finalised and added to the language, which are described in <a href="https://openjdk.org/jeps/395">JEP 395</a> as  &ldquo;transparent carriers for immutable data&rdquo;. The canonical example of this is a <code>Point</code> in two-dimensional space. A <code>Point</code> is defined by an <code>x</code> and <code>y</code> coordinate - nothing more, nothing less.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">record</span> <span style="color:#a6e22e">Point</span>(<span style="color:#66d9ef">int</span> x, <span style="color:#66d9ef">int</span> y) { }
</span></span></code></pre></div><p>Using a <code>record</code> gives us a lot of functionality out of the box like proper <code>equals</code>/<code>hashcode</code> implementations, constructors, accessor methods, and more. The type is shallowly immutable, meaning that there is no way to reassign its components. This restriction gives us a lot of benefits - we can safely distribute instances to different parts of our logic and safely use concurrent programming without fear, since there is no way to mutate the instance itself.</p>
<h3 id="data-transformation">Data Transformation</h3>
<p>There are of course plenty of situations where we do need data deviating from the data that we received. For example, updating the <code>x</code> value of a given <code>Point</code> . We do not mutate our input, but we create a new <code>Point</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">record</span> <span style="color:#a6e22e">Point</span>(<span style="color:#66d9ef">int</span> x, <span style="color:#66d9ef">int</span> y) {
</span></span><span style="display:flex;"><span>	Point <span style="color:#a6e22e">withX</span>(<span style="color:#66d9ef">int</span> input) {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Point(input, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">y</span>());
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	Point <span style="color:#a6e22e">withY</span>(<span style="color:#66d9ef">int</span> input) {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Point(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">x</span>(), input);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>We successfully create a new instance, but we do have to specify the value for each component explicitly, even when it is the same as the input value. When our code grows in volume (more creation methods or more record components) this becomes tedious and error-prone.</p>
<h3 id="derived-creation">Derived Creation</h3>
<p>To solve this we need a mechanism for <em>derived instance creation</em>, a way to specify that we want to create new instances with only some modifications. <a href="https://openjdk.org/jeps/468">JEP 468</a> is exploring this as part of Project Amber.</p>
<p>One way to already get this functionality is to use Lombok <code>@With</code> annotation. It generates <code>with</code> methods for each record component, allowing derived creation altering only that component</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@With</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">record</span> <span style="color:#a6e22e">Point</span>(<span style="color:#66d9ef">int</span> x, <span style="color:#66d9ef">int</span> y) {
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// withX, withY generated automatically</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This enables convenient shallow derived creation for <em>single components</em>, a valuable step, but we can take it a lot further. What if we want to make deep transformations?</p>
<h3 id="deep-transformation">Deep Transformation</h3>
<p>As an example, suppose we have record classes for <code>Person</code> , <code>House</code>, <code>Address</code> and <code>City</code>. A <code>Person</code> has a <code>House</code>, which has an <code>Address</code>, which has a <code>City</code> as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@With</span> <span style="color:#66d9ef">record</span> <span style="color:#a6e22e">Person</span>(String firstName, String lastName, House house) { }
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@With</span> <span style="color:#66d9ef">record</span> <span style="color:#a6e22e">House</span>(Address address) { }
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@With</span> <span style="color:#66d9ef">record</span> <span style="color:#a6e22e">Address</span>(String street, String zipCode, City city) { }
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@With</span> <span style="color:#66d9ef">record</span> <span style="color:#a6e22e">City</span>(String name) { }
</span></span></code></pre></div><p>Suppose <code>alice</code> wants to move to New York. Using the most convenient strategy discussed we end up with the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">static</span> City NEW_YORK <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> City(<span style="color:#e6db74">&#34;New York&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Person <span style="color:#a6e22e">moveToNewYork</span>(Person person) {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> person.<span style="color:#a6e22e">withHouse</span>(
</span></span><span style="display:flex;"><span>		person.<span style="color:#a6e22e">house</span>().<span style="color:#a6e22e">withAddress</span>(
</span></span><span style="display:flex;"><span>			person.<span style="color:#a6e22e">house</span>().<span style="color:#a6e22e">address</span>().<span style="color:#a6e22e">withCity</span>(NEW_YORK)
</span></span><span style="display:flex;"><span>		)
</span></span><span style="display:flex;"><span>	);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>In order to provide the new <code>City</code> for a <code>Person</code> we have to call <code>withHouse</code>, and specify explicitly that we would like to use the existing <code>house</code> with a transformation to <code>address</code>. Then we use the existing <code>address</code> but specify a new value for <code>city</code>. That was a lot of code to write, and we can see that this does not scale well when nesting grows deeper or when we have a lot of transformations that we would like to express.</p>
<h3 id="lenses">Lenses</h3>
<p>What is needed here is an API to express the intent to apply nested transformations. In <code>Haskell</code> and <code>Scala</code> the paradigm of immutable programming has existed for a long time and thus support has emerged to effectively work with immutable data. One option is to use a  <code>Lens</code> paradigm.</p>
<p>Before exploring what a <code>Lens</code> is and how it works, lets demonstrate the above example in a <code>Lens</code> style, expressing the intent to change the city of the address of the house of the person:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">static</span> City NEW_YORK <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> City(<span style="color:#e6db74">&#34;New York&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Person <span style="color:#a6e22e">moveToNewYork</span>(Person person) {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> PersonLens.<span style="color:#a6e22e">µ</span>
</span></span><span style="display:flex;"><span>		.<span style="color:#a6e22e">house</span>()
</span></span><span style="display:flex;"><span>		.<span style="color:#a6e22e">address</span>()
</span></span><span style="display:flex;"><span>		.<span style="color:#a6e22e">city</span>()
</span></span><span style="display:flex;"><span>		.<span style="color:#a6e22e">with</span>(NEW_YORK)
</span></span><span style="display:flex;"><span>		.<span style="color:#a6e22e">apply</span>(person);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This enables a fluent style where the implementation is declarative and non-repetitive. This eliminates scaling issues with record size, nesting level, or amount of transformations.</p>
<h3 id="foundation">Foundation</h3>
<p>The design behind the above paradigm is called <code>Lensing</code>. A <code>Lens</code> is a type with two essential functionalities: <em>retrieving</em> nested data, and <em>transforming</em> it. This is implemented by adding these functionalities as components of a record class. The <code>Lens</code> &ldquo;zooms into&rdquo; a child property of type <code>T</code> of a parent type <code>S</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">record</span> <span style="color:#a6e22e">Lens</span><span style="color:#f92672">&lt;</span>S, T<span style="color:#f92672">&gt;</span>(Function2<span style="color:#f92672">&lt;</span>S, T, S<span style="color:#f92672">&gt;</span> with, Function1<span style="color:#f92672">&lt;</span>S, T<span style="color:#f92672">&gt;</span> get)
</span></span></code></pre></div><h3 id="creating-a-lens">Creating a Lens</h3>
<p>To create a <code>Lens</code> allowing us to change the <code>City</code> of an <code>Address</code> we write the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Lens<span style="color:#f92672">&lt;</span>Address, City<span style="color:#f92672">&gt;</span> addressCityLens <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Lens<span style="color:#f92672">&lt;&gt;</span>(Address::withCity, Address::city);
</span></span></code></pre></div><p>Writing all this by hand sounds like effort, so&hellip;</p>
<h3 id="automatic-lenses">Automatic Lenses</h3>
<p>I&rsquo;ve <a href="https://github.com/bvkatwijk/java-lens">created a library</a> to automate the above using annotation processing. All that is required is annotating the records that you want to use the Lens paradigm on.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@With</span> <span style="color:#a6e22e">@Lenses</span> <span style="color:#66d9ef">record</span> <span style="color:#a6e22e">Person</span>(String firstName, String lastName, House house) { }
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@With</span> <span style="color:#a6e22e">@Lenses</span> <span style="color:#66d9ef">record</span> <span style="color:#a6e22e">House</span>(Address address) { }
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@With</span> <span style="color:#a6e22e">@Lenses</span> <span style="color:#66d9ef">record</span> <span style="color:#a6e22e">Address</span>(String street, String zipCode, City city) { }
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@With</span> <span style="color:#a6e22e">@Lenses</span> <span style="color:#66d9ef">record</span> <span style="color:#a6e22e">City</span>(String name) { }
</span></span></code></pre></div><p>This will generate a helper class holding <code>Lens</code> instances that can be applied at will. To enable the method chain for nested lensing it also contains a <code>µ</code> instance. The name is chosen to make collisions with field names very unlikely.</p>
<p>The library is a work-in-progress. Feel free to try it out - I hope the examples (implemented as unit tests) serve both as documentation and a quick way to experiment. It is published on <a href="https://mvnrepository.com/artifact/nl.bvkatwijk/java-lens">Maven Central</a> . Currently it is still necessary to also use Lombok&rsquo;s <code>@With</code> annotation, this requirement may be dropped in a future release.</p>
<h3 id="inspiration">Inspiration</h3>
<p>The implementation of this library was driven by inspiration from <code>Monocle</code>, a more powerful library for  <code>Scala</code> authored by <a href="https://github.com/julien-truffaut">Julien Truffaut</a>. Monocle mentions <a href="https://github.com/ekmett/lens">Haskell Lens</a>  (authored by <a href="https://github.com/ekmett">Edward Kmett</a> as its own main inspiration. I would like to express gratitude and admiration for their work.</p>
<hr>
<h2 id="appendix">Appendix</h2>
<h3 id="lens-composition">Lens Composition</h3>
<p>An important property of <code>Lens</code> (driving its main power) is that you can compose them - meaning you can chain multiple lenses. We have showed how to create a <code>addressCityLens</code>, capable of transforming the <code>City</code> of an <code>Address</code>.</p>
<p>So a <code>Lens</code> of <code>Person</code> into <code>City</code> would be a chain <code>Person -&gt; House -&gt; Address -&gt; City</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Lens<span style="color:#f92672">&lt;</span>Person, City<span style="color:#f92672">&gt;</span> personCityLens <span style="color:#f92672">=</span> PersonLens.<span style="color:#a6e22e">House</span>
</span></span><span style="display:flex;"><span>	.<span style="color:#a6e22e">andThen</span>(HouseLens.<span style="color:#a6e22e">Address</span>)
</span></span><span style="display:flex;"><span>	.<span style="color:#a6e22e">andThen</span>(AddressLens.<span style="color:#a6e22e">City</span>);
</span></span></code></pre></div><h3 id="interface">Interface</h3>
<p>To keep the implementation choice of a <code>Lens</code> record separated from the library API i&rsquo;ve added an <code>ILens</code>  interface. Providing the two foundational functions, <code>get</code> and <code>with</code>, all other behaviour can be implemented. For example, I&rsquo;ve added <code>get(S s)</code> and <code>with(S s, T t)</code> to be able to directly apply a lens onto an instance of <code>S</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">ILens</span><span style="color:#f92672">&lt;</span>S, T<span style="color:#f92672">&gt;</span> {  
</span></span><span style="display:flex;"><span>    Function1<span style="color:#f92672">&lt;</span>S, T<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">get</span>();  
</span></span><span style="display:flex;"><span>    Function2<span style="color:#f92672">&lt;</span>S, T, S<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">with</span>();  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">default</span> T <span style="color:#a6e22e">get</span>(S s) {  
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> get().<span style="color:#a6e22e">apply</span>(s);  
</span></span><span style="display:flex;"><span>    }  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">default</span> S <span style="color:#a6e22e">with</span>(S subject, T value) {  
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> with().<span style="color:#a6e22e">apply</span>(subject, value);  
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul class="pa0">
  
   <li class="list di">
     <a href="/tags/fp/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Fp</a>
   </li>
  
   <li class="list di">
     <a href="/tags/java/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Java</a>
   </li>
  
   <li class="list di">
     <a href="/tags/data/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Data</a>
   </li>
  
   <li class="list di">
     <a href="/tags/api/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Api</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
        <div id="comments">
          
            <link rel="stylesheet" href="/css/comments.css" />
<script>
    var id = "13";
  
    if (id)
    {
      let url = "https://github.com/bvkatwijk/bvkatwijk.github.io/issues/".concat(id);
      let api_url = "https://api.github.com/repos/bvkatwijk/bvkatwijk.github.io/issues/".concat(id, "/comments");
      
      var commentsDiv = document.getElementById("comments");
  
      let xhr = new XMLHttpRequest();
      xhr.responseType = "json";
      xhr.open("GET", api_url);
      xhr.setRequestHeader("Accept", "application/vnd.github.v3.html+json");
      xhr.send();
  
      xhr.onload = function()
      {
        if (xhr.status != 200)
        {
          let errorText = document.createElement("p");
          errorText.innerHTML = "<i>Comments for this post yet are not opened yet (or you have GitHub scripts disabled).</i>";
          commentsDiv.appendChild(errorText);
        }
        else
        {
          let comments = xhr.response;
  
          let mainHeader = document.createElement("h2");
          mainHeader.innerHTML = "Comments: ".concat(comments.length);
          commentsDiv.appendChild(mainHeader);
  
          let issueLink = document.createElement("p");
          issueLink.innerHTML = "<i>You can leave a comment using this <a href='".concat(url, "'>GitHub issue</a>.</i>");
          commentsDiv.appendChild(issueLink);
          
          comments.forEach(function(comment)
          {
              let commentContent = document.createElement("div");
              commentContent.setAttribute('class', 'gh-comment')
              commentContent.innerHTML = "".concat(
                  "<div class='gh-header'>",
                    "<img src='", comment.user.avatar_url, "' />",
                    "<div style='margin:auto 0;'>",
                      "<b><a class='gh-username' href='", comment.user.html_url, "'>", comment.user.login, "</a></b>",
                      " commented at <em>", new Date(comment.created_at), "</em>",
                    "</div>",
                  "</div>",
                  "<div class='gh-body'>",
                    comment.body_html,
                  "</div>"
              );
              commentsDiv.appendChild(commentContent);
          });
        }
      };
  
      xhr.onerror = function()
      {
        let errorText = document.createElement("p");
        errorText.innerHTML = "<i>Some error loading comments.</i>";
        commentsDiv.appendChild(errorText);
      };
    }
  </script>
          
        </div>
      
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/blog/java---error-return-types/">Java - Error Return Types</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/awaitility/">Awaitility</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/java---unique-enum-field-values/">Java - Unique Enum Field values</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://bvkatwijk.github.io/" >
    &copy;  Boris van Katwijk 2025 
  </a>
    <div><div class="ananke-socials"><a href="https://twitter.com/boris_katwijk" target="_blank" rel="noopener"
        class="ananke-social-link link-transition twitter link dib z-999 pt3 pt0-l mr1"
        title="follow on Twitter - Opens in a new window"
        aria-label="follow on Twitter - Opens in a new window">
      <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
            
          </span></a><a href="https://github.com/bvkatwijk/" target="_blank" rel="noopener"
        class="ananke-social-link link-transition github link dib z-999 pt3 pt0-l mr1"
        title="follow on GitHub - Opens in a new window"
        aria-label="follow on GitHub - Opens in a new window">
      <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
            
          </span></a><a href="http://linkedin.com/in/bvankatwijk" target="_blank" rel="noopener"
        class="ananke-social-link link-transition linkedin link dib z-999 pt3 pt0-l mr1"
        title="follow on LinkedIn - Opens in a new window"
        aria-label="follow on LinkedIn - Opens in a new window">
      <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
            
          </span></a><a href="https://stackoverflow.com/users/5722607" target="_blank" rel="noopener"
        class="ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1"
        title="follow on Stack Overflow - Opens in a new window"
        aria-label="follow on Stack Overflow - Opens in a new window">
      <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"/></svg>
            
          </span></a></div>
</div>
  </div>
</footer>

  </body>
</html>
